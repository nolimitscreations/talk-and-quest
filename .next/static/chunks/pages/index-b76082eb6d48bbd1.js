(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5728:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(5504)}])},2838:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var i=s(5893),r=s(1664),n=s.n(r),a=s(9103);function l(e){let{children:t}=e,{profile:s,setProfile:r,quiet:l,setQuiet:c}=(0,a.q)();return(0,i.jsxs)("div",{className:"container",children:[(0,i.jsxs)("div",{className:"header",children:[(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)(n(),{href:"/",children:(0,i.jsx)("span",{style:{fontWeight:800,fontSize:18,cursor:"pointer"},children:"Talk & Quest"})}),(0,i.jsx)("span",{className:"badge",children:l?"quiet mode":"gentle practice"})]}),(0,i.jsxs)("div",{className:"flex",style:{gap:8},children:[(0,i.jsxs)("select",{value:s,onChange:e=>r(e.target.value),children:[(0,i.jsx)("option",{children:"Samuel"}),(0,i.jsx)("option",{children:"Spencer"}),(0,i.jsx)("option",{children:"Guest"})]}),(0,i.jsx)("button",{className:"btn ghost",onClick:()=>c(!l),children:l?"\uD83D\uDD15 Quiet":"\uD83D\uDD14 Normal"}),(0,i.jsx)(n(),{href:"/dashboard",children:(0,i.jsx)("button",{className:"btn",children:"Dashboard"})})]})]}),t,(0,i.jsx)("footer",{children:"Made with calm vibes for Samuel & Spencer • Local-first • No pressure"})]})}},8887:function(e,t,s){"use strict";function i(){let e=function(){try{let e=localStorage.getItem("tq_settings");return e?JSON.parse(e):{profile:"Samuel",quiet:!1}}catch(e){return{profile:"Samuel",quiet:!1}}}().profile||"Samuel";return"tq_progress_".concat(e)}function r(){try{let e=localStorage.getItem(i());return e?JSON.parse(e):{minutes:0,attempts:0,stickers:[]}}catch(e){return{minutes:0,attempts:0,stickers:[]}}}function n(e){localStorage.setItem(i(),JSON.stringify(e))}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=r();t.attempts+=e,n(t)}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=r();t.minutes+=e,n(t)}function c(e){let t=r();t.stickers.includes(e)||t.stickers.push(e),n(t)}s.d(t,{rj:function(){return a},mH:function(){return l},du:function(){return c}})},5504:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var i=s(5893),r=s(7294),n=s(1664),a=s.n(n),l=s(5675),c=s.n(l),u=s(2838);function o(e){let{value:t=0}=e;return(0,i.jsx)("div",{className:"progress",children:(0,i.jsx)("div",{style:{width:Math.max(0,Math.min(100,t))+"%"}})})}var d=s(8887),h=s(2510);function p(e){return(null==e?void 0:e.title)||(null==e?void 0:e.name)||"Untitled Quest"}function m(){let[e,t]=(0,r.useState)(!1),[s,n]=(0,r.useState)({active:"Samuel"}),[l,m]=(0,r.useState)({minutes:0,attempts:0,stickers:[]});if((0,r.useEffect)(()=>{t(!0),n((0,d.loadState)()),m((0,d.getProfile)());let e=(0,d.onStateChange)(()=>{n((0,d.loadState)()),m((0,d.getProfile)())});return()=>{e&&e()}},[]),!e)return(0,i.jsx)(u.Z,{children:(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("h1",{children:"Welcome \uD83D\uDC4B"}),(0,i.jsx)("p",{children:"Loading…"})]})});let f=s.active||"Samuel",x=(Array.isArray(null==h?void 0:h.quests)?h.quests:[]).slice(0,8);return(0,i.jsxs)(u.Z,{children:[(0,i.jsxs)("div",{className:"card",children:[(0,i.jsxs)("h1",{children:["Welcome, ",f," \uD83D\uDC4B"]}),(0,i.jsx)("p",{children:"Pick a quest. Practice for 8–12 minutes. Celebrate every try."}),(0,i.jsx)("div",{className:"grid",style:{marginTop:12},children:x.map(e=>(0,i.jsxs)("div",{className:"quest-card",children:[(0,i.jsxs)("div",{className:"quest-header vertical",children:[(0,i.jsx)("span",{className:"quest-icon","aria-hidden":!0,children:function(e){if(null==e?void 0:e.icon)return e.icon;if(null==e?void 0:e.emoji)return e.emoji;let t=p(e).toLowerCase();return t.includes("rocket")?"\uD83D\uDE80":t.includes("lighthouse")?"\uD83D\uDDFC":t.includes("thunder")?"⛈️":t.includes("ship")?"\uD83D\uDEA2":"\uD83C\uDFAF"}(e)}),(0,i.jsx)("h3",{className:"quest-title",children:p(e)})]}),!1,(0,i.jsx)(a(),{href:"/quest/".concat(e.id),children:(0,i.jsx)("button",{className:"btn",children:"Let’s go!"})})]},e.id))})]}),(0,i.jsxs)("div",{className:"card",style:{marginTop:12},children:[(0,i.jsx)("h2",{children:"Today’s vibe"}),(0,i.jsxs)("div",{className:"flex",style:{justifyContent:"space-between"},children:[(0,i.jsxs)("div",{style:{flex:1},children:[(0,i.jsx)("p",{className:"small",children:"Practice minutes (total)"}),(0,i.jsx)(o,{value:Math.min(100,5*(l.minutes||0))})]}),(0,i.jsx)("div",{style:{textAlign:"right"},children:(0,i.jsxs)("div",{className:"badge",children:["Attempts: ",l.attempts||0]})})]})]}),(0,i.jsxs)("div",{className:"card",style:{marginTop:12},children:[(0,i.jsx)("h2",{children:"Sticker Book"}),(0,i.jsxs)("div",{className:"flex",style:{flexWrap:"wrap"},children:[0===(l.stickers||[]).length&&(0,i.jsx)("p",{className:"small",children:"Earn a sticker by finishing an activity."}),(l.stickers||[]).map((e,t)=>(0,i.jsx)(c(),{className:"sticker",src:e,alt:"sticker",width:72,height:72},t))]})]})]})}},2510:function(e){"use strict";e.exports=JSON.parse('{"quests":[{"id":"r-rocket","title":"R Rocket Quest","targets":["R-initial","R-medial","R-final"],"activities":[{"type":"repeat_after_me","items":["rain","rope","rocket","rabbit","robot","car","door"]},{"type":"sight_word_sprint","words":["because","another","between","important","through","enough","example"]},{"type":"fluency_story","title":"Skylar’s Secret Shortcut","paragraphs":["Samuel and Spencer followed Skylar along a quiet trail.","The corgi turned left at a big rock—and suddenly, a hidden playground appeared!"],"questions":[{"q":"Who found the shortcut?","options":["Skylar","A cat","A bird"],"answer":0},{"q":"Where did the trail lead?","options":["Playground","Library","Bakery"],"answer":0}]}],"reward":"/stickers/sticker_1.png"},{"id":"sh-ship","title":"SH Ship Quest","targets":["SH-initial"],"activities":[{"type":"repeat_after_me","items":["ship","shell","shop","shark","shoe"]},{"type":"sight_word_sprint","words":["favorite","different","probably","beautiful","friend"]},{"type":"fluency_story","title":"The Shiny Shell","paragraphs":["Skylar nudged a shiny shell across the sand.","Samuel and Spencer held it to their ears and heard the sea say, ‘hello!’"],"questions":[{"q":"What did Skylar find?","options":["A shell","A coin","A toy"],"answer":0}]}],"reward":"/stickers/sticker_2.png"}]}')}},function(e){e.O(0,[664,675,888,774,179],function(){return e(e.s=5728)}),_N_E=e.O()}]);